"use strict";(self.webpackChunkgym_management_app=self.webpackChunkgym_management_app||[]).push([[975],{1975:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Pe});var s=a(9379),r=a(5043),n=a(267),i=a(6995),l=a(3969),c=a(5895),o=a(2097),d=a(1244),u=a(3309),x=a(2843),p=a(6128),m=a(3089),h=a(4343),A=a(3699),y=a(256),j=a(3353),g=a(4938),b=a(7471),v=a(3759),f=a(2555),P=a(3023),S=a(1911),k=a(8776),D=a(6819),C=a(5877),M=a(916),w=a(6803),z=a(2950),I=a(3745),W=a(847),T=a(7240),N=a(2579),R=a(5315),L=a(7401),B=a(9801),F=a(6185),E=a(4527),G=a(1773),q=a(5362),U=a(9982),O=a(3974),K=a(3201);const V={basic:"Basic",premium:"Premium",vip:"VIP",student:"Student",corporate:"Corporate",family:"Family"},H={monthly:"Monthly",quarterly:"Quarterly",semiannual:"Semi-Annual",annual:"Annual",lifetime:"Lifetime"},_={active:"Active",expired:"Expired",suspended:"Suspended",cancelled:"Cancelled",pending:"Pending"},J={paid:"Paid",pending:"Pending",overdue:"Overdue",failed:"Failed"},Y={active:"Active",inactive:"Inactive",archived:"Archived"},Q=[{id:"PKG001",name:"Basic Monthly",type:"basic",duration:"monthly",price:49.99,description:"Access to gym equipment and basic facilities",features:["Gym equipment access","Locker room access","Basic fitness assessment","Mobile app access"],status:"active",maxMembers:null,createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"PKG002",name:"Premium Monthly",type:"premium",duration:"monthly",price:79.99,description:"Enhanced membership with group classes and personal training sessions",features:["All Basic features","Group fitness classes","2 personal training sessions/month","Nutrition consultation","Sauna & steam room access","Guest passes (2/month)"],status:"active",maxMembers:null,createdDate:"2024-01-01",lastModified:"2024-01-15"},{id:"PKG003",name:"VIP Annual",type:"vip",duration:"annual",price:1199.99,description:"Premium annual membership with exclusive benefits",features:["All Premium features","Unlimited personal training","Priority booking","Exclusive VIP lounge access","Massage therapy sessions","Unlimited guest passes","Free merchandise","Nutrition meal planning"],status:"active",maxMembers:100,createdDate:"2024-01-01",lastModified:"2024-02-01"},{id:"PKG004",name:"Student Discount",type:"student",duration:"monthly",price:29.99,description:"Special pricing for students with valid ID",features:["Gym equipment access","Locker room access","Group fitness classes","Study areas"],status:"active",maxMembers:null,createdDate:"2024-01-01",lastModified:"2024-01-10"},{id:"PKG005",name:"Corporate Package",type:"corporate",duration:"annual",price:899.99,description:"Corporate membership for employees",features:["All Premium features","Corporate wellness programs","Team building activities","Health screenings","Flexible scheduling"],status:"active",maxMembers:null,createdDate:"2024-01-01",lastModified:"2024-01-20"},{id:"PKG006",name:"Family Package",type:"family",duration:"annual",price:1499.99,description:"Family membership for up to 4 members",features:["All Premium features for family","Kids programs","Family fitness classes","Swimming pool access","Family locker rooms"],status:"active",maxMembers:4,createdDate:"2024-01-01",lastModified:"2024-01-25"},{id:"PKG007",name:"Lifetime VIP",type:"vip",duration:"lifetime",price:4999.99,description:"One-time payment for lifetime access",features:["All VIP features","Lifetime guarantee","Legacy member benefits","Transferable membership","Annual review and updates"],status:"active",maxMembers:50,createdDate:"2024-01-01",lastModified:"2024-02-01"}],$=[{id:"SUB001",memberId:"MEM001",memberName:"John Doe",packageId:"PKG002",packageName:"Premium Monthly",startDate:"2024-01-15",endDate:"2024-02-15",status:"active",paymentStatus:"paid",autoRenewal:!0,price:79.99,paymentMethod:"Credit Card",lastPaymentDate:"2024-01-15",nextPaymentDate:"2024-02-15",createdDate:"2024-01-15"},{id:"SUB002",memberId:"MEM002",memberName:"Jane Smith",packageId:"PKG003",packageName:"VIP Annual",startDate:"2024-01-01",endDate:"2024-12-31",status:"active",paymentStatus:"paid",autoRenewal:!0,price:1199.99,paymentMethod:"Bank Transfer",lastPaymentDate:"2024-01-01",nextPaymentDate:"2025-01-01",createdDate:"2024-01-01"},{id:"SUB003",memberId:"MEM003",memberName:"Mike Wilson",packageId:"PKG001",packageName:"Basic Monthly",startDate:"2024-01-20",endDate:"2024-02-20",status:"expired",paymentStatus:"overdue",autoRenewal:!1,price:49.99,paymentMethod:"Credit Card",lastPaymentDate:"2024-01-20",nextPaymentDate:"2024-02-20",createdDate:"2024-01-20"},{id:"SUB004",memberId:"MEM004",memberName:"Sarah Johnson",packageId:"PKG004",packageName:"Student Discount",startDate:"2024-02-01",endDate:"2024-03-01",status:"active",paymentStatus:"paid",autoRenewal:!0,price:29.99,paymentMethod:"Debit Card",lastPaymentDate:"2024-02-01",nextPaymentDate:"2024-03-01",createdDate:"2024-02-01"},{id:"SUB005",memberId:"MEM005",memberName:"David Brown",packageId:"PKG006",packageName:"Family Package",startDate:"2024-01-10",endDate:"2025-01-10",status:"active",paymentStatus:"paid",autoRenewal:!0,price:1499.99,paymentMethod:"Credit Card",lastPaymentDate:"2024-01-10",nextPaymentDate:"2025-01-10",createdDate:"2024-01-10"},{id:"SUB006",memberId:"MEM006",memberName:"Lisa Davis",packageId:"PKG002",packageName:"Premium Monthly",startDate:"2024-01-25",endDate:"2024-02-25",status:"suspended",paymentStatus:"failed",autoRenewal:!0,price:79.99,paymentMethod:"Credit Card",lastPaymentDate:"2024-01-25",nextPaymentDate:"2024-02-25",createdDate:"2024-01-25"}],X=e=>{switch(e){case"active":return"success";case"expired":return"error";case"suspended":return"warning";case"cancelled":default:return"default";case"pending":return"info"}},Z=e=>{switch(e){case"paid":return"success";case"pending":return"warning";case"overdue":case"failed":return"error";default:return"default"}},ee=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;if(!e||"Lifetime"===e)return!1;const a=new Date,s=new Date(e)-a,r=Math.ceil(s/864e5);return r<=t&&r>=0},ae=e=>{const t=e.filter(e=>"active"===e.status),a=t.filter(e=>e.packageName&&e.packageName.toLowerCase().includes("monthly")).reduce((e,t)=>e+(t.price||0),0),s=t.filter(e=>e.packageName&&(e.packageName.toLowerCase().includes("annual")||e.packageName.toLowerCase().includes("yearly"))).reduce((e,t)=>e+(t.price||0),0);return{totalRevenue:t.reduce((e,t)=>e+(t.price||0),0),monthlyRevenue:a,annualRevenue:s,activeSubscriptions:t.length,totalSubscriptions:e.length}};var se=a(579);const re=e=>{let{package:t,onEdit:a,onDelete:s,canManage:r=!1,subscriptionCount:n=0}=e;return(0,se.jsxs)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:4}},children:[(0,se.jsx)(T.A,{title:t.name,titleTypographyProps:{variant:"h6",sx:{fontSize:"1.1rem",fontWeight:600,lineHeight:1.3}},subheader:(0,se.jsxs)(l.A,{sx:{mt:1,display:"flex",flexWrap:"wrap",gap:.5},children:[(0,se.jsx)(v.A,{label:V[t.type],color:(e=>{switch(e){case"basic":default:return"default";case"premium":return"primary";case"vip":return"secondary";case"student":return"info";case"corporate":return"warning";case"family":return"success"}})(t.type),size:"small"}),(0,se.jsx)(v.A,{label:H[t.duration],color:(e=>{switch(e){case"monthly":return"primary";case"quarterly":return"secondary";case"semiannual":return"warning";case"annual":return"success";case"lifetime":return"error";default:return"default"}})(t.duration),size:"small",variant:"outlined"}),(0,se.jsx)(v.A,{label:t.status,color:"active"===t.status?"success":"default",size:"small",variant:"outlined"})]}),action:r&&(0,se.jsxs)(l.A,{children:[(0,se.jsx)(N.A,{size:"small",onClick:e=>{e.stopPropagation(),a&&a(t)},sx:{mr:.5},children:(0,se.jsx)(G.A,{})}),(0,se.jsx)(N.A,{size:"small",onClick:e=>{e.stopPropagation(),s&&s(t.id)},color:"error",children:(0,se.jsx)(q.A,{})})]})}),(0,se.jsxs)(p.A,{sx:{flexGrow:1,pt:0},children:[(0,se.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mb:2,minHeight:"3em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:t.description}),(0,se.jsxs)(l.A,{sx:{mb:2,textAlign:"center",py:2,bgcolor:"primary.light",borderRadius:1},children:[(0,se.jsx)(c.A,{variant:"h4",color:"primary.contrastText",sx:{fontWeight:"bold"},children:ee(t.price)}),(0,se.jsxs)(c.A,{variant:"caption",color:"primary.contrastText",children:["per"," ","lifetime"===t.duration?"one-time":t.duration.replace("ly","")]})]}),(0,se.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,se.jsx)(U.A,{sx:{mr:.5,fontSize:16,color:"text.secondary"}}),(0,se.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[n," members"]})]}),(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,se.jsx)(O.A,{sx:{mr:.5,fontSize:16,color:"text.secondary"}}),(0,se.jsx)(c.A,{variant:"body2",color:"text.secondary",children:ee(t.price*n)})]})]}),(0,se.jsx)(c.A,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold"},children:"Features:"}),(0,se.jsxs)(R.A,{dense:!0,sx:{py:0},children:[t.features.slice(0,4).map((e,t)=>(0,se.jsxs)(L.Ay,{sx:{px:0,py:.25},children:[(0,se.jsx)(B.A,{sx:{minWidth:24},children:(0,se.jsx)(K.A,{sx:{fontSize:16,color:"success.main"}})}),(0,se.jsx)(F.A,{primary:e,primaryTypographyProps:{variant:"body2",fontSize:"0.875rem"}})]},t)),t.features.length>4&&(0,se.jsxs)(L.Ay,{sx:{px:0,py:.25},children:[(0,se.jsx)(B.A,{sx:{minWidth:24},children:(0,se.jsx)(K.A,{sx:{fontSize:16,color:"success.main"}})}),(0,se.jsx)(F.A,{primary:"+".concat(t.features.length-4," more features"),primaryTypographyProps:{variant:"body2",fontSize:"0.875rem",fontStyle:"italic",color:"text.secondary"}})]})]}),(0,se.jsx)(E.A,{sx:{my:1}}),(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,se.jsxs)(c.A,{variant:"caption",color:"text.secondary",children:["Created: ",new Date(t.createdDate).toLocaleDateString()]}),t.maxMembers&&(0,se.jsx)(v.A,{label:"Max: ".concat(t.maxMembers),size:"small",variant:"outlined",color:"info"})]})]})]})};var ne=a(1725),ie=a(5030),le=a(2912),ce=a(8837);const oe=e=>{let{open:t,onClose:a,package:n=null,onSubmit:i,mode:d="create"}=e;const[u,x]=(0,r.useState)({name:"",description:"",type:"",duration:"",price:"",features:[],status:"active",maxMembers:"",discountPercentage:0,autoRenewal:!0}),[p,f]=(0,r.useState)(""),[D,M]=(0,r.useState)({}),[I,W]=(0,r.useState)("");(0,r.useEffect)(()=>{var e,t;n&&"edit"===d?x({name:n.name||"",description:n.description||"",type:n.type||"",duration:n.duration||"",price:(null===(e=n.price)||void 0===e?void 0:e.toString())||"",features:n.features||[],status:n.status||"active",maxMembers:(null===(t=n.maxMembers)||void 0===t?void 0:t.toString())||"",discountPercentage:n.discountPercentage||0,autoRenewal:void 0===n.autoRenewal||n.autoRenewal}):x({name:"",description:"",type:"",duration:"",price:"",features:[],status:"active",maxMembers:"",discountPercentage:0,autoRenewal:!0});M({}),W("")},[n,d,t]);const T=e=>t=>{const a=t.target.value;x(t=>(0,s.A)((0,s.A)({},t),{},{[e]:a})),D[e]&&M(t=>(0,s.A)((0,s.A)({},t),{},{[e]:""})),W("")},B=()=>{p.trim()&&!u.features.includes(p.trim())&&(x(e=>(0,s.A)((0,s.A)({},e),{},{features:[...e.features,p.trim()]})),f(""))},E=e=>{x(t=>(0,s.A)((0,s.A)({},t),{},{features:t.features.filter(t=>t!==e)}))};return(0,se.jsxs)(P.A,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,scroll:"paper",children:[(0,se.jsx)(S.A,{children:"create"===d?"Create New Package":"Edit Package"}),(0,se.jsxs)(k.A,{dividers:!0,children:[I&&(0,se.jsx)(w.A,{severity:"error",sx:{mb:2},children:I}),(0,se.jsxs)(m.A,{container:!0,spacing:3,children:[(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(c.A,{variant:"h6",gutterBottom:!0,children:"Basic Information"})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsx)(h.A,{fullWidth:!0,label:"Package Name",value:u.name,onChange:T("name"),error:!!D.name,helperText:D.name,required:!0})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(y.A,{fullWidth:!0,error:!!D.status,children:[(0,se.jsx)(j.A,{children:"Status"}),(0,se.jsx)(g.A,{value:u.status,onChange:T("status"),label:"Status",children:Object.entries(Y).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})})]})}),(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(h.A,{fullWidth:!0,label:"Description",value:u.description,onChange:T("description"),error:!!D.description,helperText:D.description,multiline:!0,rows:3,required:!0})}),(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(c.A,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Membership Details"})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(y.A,{fullWidth:!0,error:!!D.type,required:!0,children:[(0,se.jsx)(j.A,{children:"Membership Type"}),(0,se.jsx)(g.A,{value:u.type,onChange:T("type"),label:"Membership Type",children:Object.entries(V).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})}),D.type&&(0,se.jsx)(c.A,{variant:"caption",color:"error",children:D.type})]})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(y.A,{fullWidth:!0,error:!!D.duration,required:!0,children:[(0,se.jsx)(j.A,{children:"Duration"}),(0,se.jsx)(g.A,{value:u.duration,onChange:T("duration"),label:"Duration",children:Object.entries(H).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})}),D.duration&&(0,se.jsx)(c.A,{variant:"caption",color:"error",children:D.duration})]})}),(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(c.A,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Pricing & Limits"})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsx)(h.A,{fullWidth:!0,label:"Price",value:u.price,onChange:T("price"),error:!!D.price,helperText:D.price,type:"number",InputProps:{startAdornment:(0,se.jsx)(A.A,{position:"start",children:(0,se.jsx)(O.A,{})})},required:!0})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsx)(h.A,{fullWidth:!0,label:"Discount Percentage",value:u.discountPercentage,onChange:T("discountPercentage"),type:"number",inputProps:{min:0,max:100},InputProps:{endAdornment:(0,se.jsx)(A.A,{position:"end",children:"%"})}})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsx)(h.A,{fullWidth:!0,label:"Max Members (Optional)",value:u.maxMembers,onChange:T("maxMembers"),error:!!D.maxMembers,helperText:D.maxMembers||"Leave empty for unlimited",type:"number"})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsx)(ne.A,{control:(0,se.jsx)(ie.A,{checked:u.autoRenewal,onChange:(G="autoRenewal",e=>{x(t=>(0,s.A)((0,s.A)({},t),{},{[G]:e.target.checked}))})}),label:"Auto Renewal"})}),(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(c.A,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Features"})}),(0,se.jsxs)(m.A,{size:{xs:12},children:[(0,se.jsxs)(l.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,se.jsx)(h.A,{fullWidth:!0,label:"Add Feature",value:p,onChange:e=>f(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),B())},placeholder:"Type a feature and press Enter"}),(0,se.jsx)(N.A,{onClick:B,disabled:!p.trim(),color:"primary",children:(0,se.jsx)(z.A,{})})]}),D.features&&(0,se.jsx)(c.A,{variant:"caption",color:"error",sx:{mb:1,display:"block"},children:D.features}),u.features.length>0&&(0,se.jsx)(R.A,{dense:!0,children:u.features.map((e,t)=>(0,se.jsxs)(L.Ay,{sx:{px:0},children:[(0,se.jsx)(F.A,{primary:e}),(0,se.jsx)(le.A,{children:(0,se.jsx)(N.A,{edge:"end",onClick:()=>E(e),size:"small",children:(0,se.jsx)(ce.A,{})})})]},t))}),(0,se.jsx)(l.A,{sx:{mt:1},children:u.features.map((e,t)=>(0,se.jsx)(v.A,{label:e,onDelete:()=>E(e),size:"small",sx:{mr:.5,mb:.5}},t))})]})]})]}),(0,se.jsxs)(C.A,{children:[(0,se.jsx)(o.A,{onClick:a,children:"Cancel"}),(0,se.jsx)(o.A,{onClick:()=>{if(!(()=>{const e={};return u.name.trim()||(e.name="Package name is required"),u.description.trim()||(e.description="Description is required"),u.type||(e.type="Membership type is required"),u.duration||(e.duration="Duration is required"),(!u.price||isNaN(parseFloat(u.price))||parseFloat(u.price)<=0)&&(e.price="Valid price is required"),0===u.features.length&&(e.features="At least one feature is required"),u.maxMembers&&(isNaN(parseInt(u.maxMembers))||parseInt(u.maxMembers)<=0)&&(e.maxMembers="Max members must be a positive number"),M(e),0===Object.keys(e).length})())return;const e=(0,s.A)((0,s.A)({},u),{},{price:parseFloat(u.price),maxMembers:u.maxMembers?parseInt(u.maxMembers):null,discountPercentage:parseFloat(u.discountPercentage)||0}),t=(e=>{const t=[];return e.name&&0!==e.name.trim().length||t.push("Package name is required"),e.type||t.push("Package type is required"),e.duration||t.push("Duration is required"),(!e.price||e.price<=0)&&t.push("Price must be greater than 0"),e.price&&e.price>1e4&&t.push("Price cannot exceed $10,000"),{isValid:0===t.length,errors:t}})(e);t.isValid?("create"===d?(e.id="PKG".concat(Date.now().toString(36).toUpperCase()).concat(Math.random().toString(36).substr(2,2).toUpperCase()),e.createdDate=(new Date).toISOString()):(e.id=n.id,e.createdDate=n.createdDate,e.updatedDate=(new Date).toISOString()),i(e)):W(t.errors.join(", "))},variant:"contained",children:"create"===d?"Create Package":"Update Package"})]})]});var G};var de=a(7873),ue=a(3683),xe=a(8191),pe=a(7496),me=a(1101),he=a(160);const Ae=e=>{let{subscription:t,memberName:a,onDelete:s,onUpdateStatus:n,canManage:i=!1}=e;const[u,x]=(0,r.useState)(!1),[h,A]=(0,r.useState)(t.status),[f,D]=(0,r.useState)(t.paymentStatus),M=Q.find(e=>e.id===t.packageId),z=(e=>{if(!e||"Lifetime"===e)return null;const t=new Date,a=new Date(e)-t;return Math.ceil(a/864e5)})(t.endDate),I=te(t.endDate),W=!(!(B=t.endDate)||"Lifetime"===B)&&new Date>new Date(B);var B;(0,r.useEffect)(()=>{A(t.status),D(t.paymentStatus)},[t.status,t.paymentStatus]);return(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"all 0.2s ease-in-out",border:W?"2px solid":"1px solid",borderColor:W?"error.main":"divider","&:hover":{transform:"translateY(-2px)",boxShadow:3}},children:[(0,se.jsx)(T.A,{avatar:(0,se.jsx)(de.A,{sx:{bgcolor:"primary.main"},children:(0,se.jsx)(he.A,{})}),title:a||"Member ".concat(t.memberId),titleTypographyProps:{variant:"h6",sx:{fontSize:"1rem",fontWeight:600}},subheader:(null===M||void 0===M?void 0:M.name)||"Unknown Package",subheaderTypographyProps:{sx:{fontSize:"0.875rem",color:"text.secondary"}},action:i&&(0,se.jsxs)(l.A,{children:[(0,se.jsx)(N.A,{size:"small",onClick:()=>x(!0),sx:{mr:.5},children:(0,se.jsx)(G.A,{})}),(0,se.jsx)(N.A,{size:"small",onClick:e=>{e.stopPropagation(),s&&s(t.id)},color:"error",children:(0,se.jsx)(q.A,{})})]})}),(0,se.jsxs)(p.A,{sx:{flexGrow:1,pt:0},children:[W&&(0,se.jsxs)(w.A,{severity:"error",sx:{mb:2},children:["Subscription expired ",Math.abs(z)," days ago"]}),I&&!W&&(0,se.jsxs)(w.A,{severity:"warning",sx:{mb:2},children:["Expires in ",z," days"]}),(0,se.jsxs)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:[(0,se.jsx)(v.A,{icon:(e=>{switch(e){case"active":return(0,se.jsx)(K.A,{sx:{color:"success.main"}});case"expired":case"cancelled":return(0,se.jsx)(ue.A,{sx:{color:"error.main"}});case"suspended":return(0,se.jsx)(xe.A,{sx:{color:"warning.main"}});default:return(0,se.jsx)(pe.A,{sx:{color:"info.main"}})}})(t.status),label:_[t.status],color:X(t.status),size:"small"}),(0,se.jsx)(v.A,{icon:(e=>{switch(e){case"paid":return(0,se.jsx)(K.A,{sx:{color:"success.main"}});case"pending":return(0,se.jsx)(pe.A,{sx:{color:"warning.main"}});case"failed":return(0,se.jsx)(ue.A,{sx:{color:"error.main"}});case"overdue":return(0,se.jsx)(me.A,{sx:{color:"error.main"}});default:return(0,se.jsx)(pe.A,{sx:{color:"info.main"}})}})(t.paymentStatus),label:J[t.paymentStatus],color:Z(t.paymentStatus),size:"small",variant:"outlined"})]}),(0,se.jsxs)(R.A,{dense:!0,sx:{py:0},children:[(0,se.jsx)(L.Ay,{sx:{px:0,py:.5},children:(0,se.jsx)(F.A,{primary:"Start Date",secondary:new Date(t.startDate).toLocaleDateString(),primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"body2"}})}),(0,se.jsx)(L.Ay,{sx:{px:0,py:.5},children:(0,se.jsx)(F.A,{primary:"End Date",secondary:new Date(t.endDate).toLocaleDateString(),primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"body2",sx:{color:W?"error.main":I?"warning.main":"text.secondary"}}})}),(0,se.jsx)(L.Ay,{sx:{px:0,py:.5},children:(0,se.jsx)(F.A,{primary:"Monthly Price",secondary:ee(t.price),primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"body2",sx:{fontWeight:600,color:"success.main"}}})}),t.nextPaymentDate&&(0,se.jsx)(L.Ay,{sx:{px:0,py:.5},children:(0,se.jsx)(F.A,{primary:"Next Payment",secondary:new Date(t.nextPaymentDate).toLocaleDateString(),primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"body2"}})}),void 0!==t.autoRenewal&&(0,se.jsx)(L.Ay,{sx:{px:0,py:.5},children:(0,se.jsx)(F.A,{primary:"Auto Renewal",secondary:t.autoRenewal?"Enabled":"Disabled",primaryTypographyProps:{variant:"body2",fontWeight:500},secondaryTypographyProps:{variant:"body2",sx:{color:t.autoRenewal?"success.main":"warning.main"}}})})]}),(0,se.jsx)(E.A,{sx:{my:1}}),(0,se.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,se.jsxs)(c.A,{variant:"caption",color:"text.secondary",children:["ID: ",t.id]}),(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center"},children:[(0,se.jsx)(O.A,{sx:{fontSize:16,color:"text.secondary",mr:.5}}),(0,se.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:["Total: ",ee(t.totalPaid||0)]})]})]})]})]}),(0,se.jsxs)(P.A,{open:u,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:[(0,se.jsx)(S.A,{children:"Update Subscription Status"}),(0,se.jsx)(k.A,{children:(0,se.jsxs)(m.A,{container:!0,spacing:2,sx:{mt:1},children:[(0,se.jsxs)(m.A,{size:{xs:12},children:[(0,se.jsx)(c.A,{variant:"subtitle1",gutterBottom:!0,children:a||"Member ".concat(t.memberId)}),(0,se.jsx)(c.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(null===M||void 0===M?void 0:M.name)||"Unknown Package"})]}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(y.A,{fullWidth:!0,children:[(0,se.jsx)(j.A,{children:"Subscription Status"}),(0,se.jsx)(g.A,{value:h,onChange:e=>A(e.target.value),label:"Subscription Status",children:Object.entries(_).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})})]})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(y.A,{fullWidth:!0,children:[(0,se.jsx)(j.A,{children:"Payment Status"}),(0,se.jsx)(g.A,{value:f,onChange:e=>D(e.target.value),label:"Payment Status",children:Object.entries(J).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})})]})})]})}),(0,se.jsxs)(C.A,{children:[(0,se.jsx)(o.A,{onClick:()=>x(!1),children:"Cancel"}),(0,se.jsx)(o.A,{onClick:()=>{n&&n(t.id,{status:h,paymentStatus:f}),x(!1)},variant:"contained",children:"Update Status"})]})]})]})};var ye=a(3287),je=a(6020),ge=a(6013),be=a(2248),ve=a(9302);const fe=e=>{let{packages:t=Q,subscriptions:a=$,onRefresh:n}=e;const[i,o]=(0,r.useState)(!1),u=(0,r.useMemo)(()=>{const e=ae(a),r=((e,t)=>(0,s.A)({totalPackages:e.length,activePackages:e.filter(e=>"active"===e.status).length,totalSubscriptions:t.length,activeSubscriptions:t.filter(e=>"active"===e.status).length,expiredSubscriptions:t.filter(e=>"expired"===e.status).length,suspendedSubscriptions:t.filter(e=>"suspended"===e.status).length,expiringSoon:t.filter(e=>te(e.endDate)).length},ae(t)))(a,t),n=a.filter(e=>"active"===e.status),i=a.filter(e=>"expired"===e.status),l=a.filter(e=>"pending"===e.paymentStatus),c=a.filter(e=>"overdue"===e.paymentStatus),o=t.map(e=>(0,s.A)((0,s.A)({},e),{},{subscriberCount:a.filter(t=>t.packageId===e.id).length,revenue:a.filter(t=>t.packageId===e.id).reduce((e,t)=>e+(t.totalPaid||0),0)})).sort((e,t)=>t.subscriberCount-e.subscriberCount);return(0,s.A)((0,s.A)((0,s.A)({},e),r),{},{activeSubscriptions:n.length,expiredSubscriptions:i.length,pendingPayments:l.length,overduePayments:c.length,packagePopularity:o,totalPackages:t.length,activePackages:t.filter(e=>"active"===e.status).length})},[t,a]),x=e=>{let{title:t,value:a,subtitle:s,icon:r,color:n="primary",trend:i=null}=e;return(0,se.jsx)(d.A,{sx:{height:"100%"},children:(0,se.jsx)(p.A,{children:(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,se.jsxs)(l.A,{children:[(0,se.jsx)(c.A,{color:"textSecondary",gutterBottom:!0,variant:"overline",children:t}),(0,se.jsx)(c.A,{variant:"h4",component:"div",color:"".concat(n,".main"),children:a}),s&&(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:s}),i&&(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mt:1},children:[i>0?(0,se.jsx)(ge.A,{sx:{color:"success.main",mr:.5}}):(0,se.jsx)(be.A,{sx:{color:"error.main",mr:.5}}),(0,se.jsxs)(c.A,{variant:"body2",color:i>0?"success.main":"error.main",children:[Math.abs(i),"% vs last month"]})]})]}),(0,se.jsx)(l.A,{sx:{p:1,borderRadius:1,bgcolor:"".concat(n,".light"),color:"".concat(n,".contrastText")},children:r})]})})})};return(0,se.jsxs)(l.A,{children:[(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[(0,se.jsx)(c.A,{variant:"h5",fontWeight:"bold",children:"Membership Statistics"}),(0,se.jsx)(ye.A,{title:"Refresh Statistics",children:(0,se.jsx)(N.A,{onClick:async()=>{o(!0),n&&await n(),setTimeout(()=>o(!1),1e3)},disabled:i,children:(0,se.jsx)(ve.A,{})})})]}),i&&(0,se.jsx)(je.A,{sx:{mb:2}}),(0,se.jsxs)(m.A,{container:!0,spacing:3,sx:{mb:4},children:[(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:3},children:(0,se.jsx)(x,{title:"Total Revenue",value:ee(u.totalRevenue),subtitle:"All time",icon:(0,se.jsx)(O.A,{}),color:"success",trend:15.2})}),(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:3},children:(0,se.jsx)(x,{title:"Active Members",value:u.activeSubscriptions,subtitle:"".concat(u.totalSubscriptions," total"),icon:(0,se.jsx)(U.A,{}),color:"primary",trend:8.1})}),(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:3},children:(0,se.jsx)(x,{title:"Monthly Revenue",value:ee(u.monthlyRevenue),subtitle:"Current month",icon:(0,se.jsx)(O.A,{}),color:"info",trend:-3.5})}),(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:3},children:(0,se.jsx)(x,{title:"Average Revenue",value:ee(u.averageRevenue),subtitle:"Per member",icon:(0,se.jsx)(ge.A,{}),color:"secondary",trend:12.3})})]}),(u.pendingPayments>0||u.overduePayments>0||u.expiredSubscriptions>0)&&(0,se.jsxs)(d.A,{sx:{mb:3},children:[(0,se.jsx)(T.A,{title:"Attention Required",titleTypographyProps:{variant:"h6"},avatar:(0,se.jsx)(me.A,{sx:{color:"warning.main"}})}),(0,se.jsx)(p.A,{sx:{pt:0},children:(0,se.jsxs)(m.A,{container:!0,spacing:2,children:[u.overduePayments>0&&(0,se.jsx)(m.A,{size:{xs:12,sm:4},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,se.jsx)(c.A,{variant:"h6",color:"error",children:u.overduePayments}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Overdue Payments"})]})}),u.pendingPayments>0&&(0,se.jsx)(m.A,{size:{xs:12,sm:4},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,se.jsx)(c.A,{variant:"h6",color:"warning.main",children:u.pendingPayments}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Pending Payments"})]})}),u.expiredSubscriptions>0&&(0,se.jsx)(m.A,{size:{xs:12,sm:4},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,se.jsx)(c.A,{variant:"h6",color:"error",children:u.expiredSubscriptions}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Expired Subscriptions"})]})})]})})]}),(0,se.jsxs)(m.A,{container:!0,spacing:3,children:[(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(d.A,{children:[(0,se.jsx)(T.A,{title:"Package Performance",titleTypographyProps:{variant:"h6"}}),(0,se.jsx)(p.A,{sx:{pt:0},children:(0,se.jsx)(R.A,{dense:!0,children:u.packagePopularity.slice(0,5).map((e,t)=>(0,se.jsxs)(r.Fragment,{children:[(0,se.jsx)(L.Ay,{sx:{px:0},children:(0,se.jsx)(F.A,{primary:(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,se.jsx)(c.A,{variant:"body1",sx:{fontWeight:500},children:e.name}),(0,se.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(v.A,{label:"".concat(e.subscriberCount," members"),size:"small",color:"primary"}),(0,se.jsx)(c.A,{variant:"body2",color:"success.main",sx:{fontWeight:600},children:ee(e.revenue)})]})]}),secondary:(0,se.jsx)(je.A,{variant:"determinate",value:Math.min(e.subscriberCount/u.totalSubscriptions*100,100),sx:{mt:1}})})}),t<u.packagePopularity.slice(0,5).length-1&&(0,se.jsx)(E.A,{component:"li"})]},e.id))})})]})}),(0,se.jsx)(m.A,{size:{xs:12,md:6},children:(0,se.jsxs)(d.A,{children:[(0,se.jsx)(T.A,{title:"Subscription Status",titleTypographyProps:{variant:"h6"}}),(0,se.jsx)(p.A,{sx:{pt:0},children:(0,se.jsxs)(m.A,{container:!0,spacing:2,children:[(0,se.jsx)(m.A,{size:{xs:6},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center",p:2},children:[(0,se.jsx)(c.A,{variant:"h4",color:"success.main",children:u.activeSubscriptions}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Active"})]})}),(0,se.jsx)(m.A,{size:{xs:6},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center",p:2},children:[(0,se.jsx)(c.A,{variant:"h4",color:"error.main",children:u.expiredSubscriptions}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Expired"})]})}),(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(E.A,{sx:{my:1}})}),(0,se.jsx)(m.A,{size:{xs:6},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center",p:1},children:[(0,se.jsx)(c.A,{variant:"h6",color:"primary.main",children:u.totalPackages}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Total Packages"})]})}),(0,se.jsx)(m.A,{size:{xs:6},children:(0,se.jsxs)(l.A,{sx:{textAlign:"center",p:1},children:[(0,se.jsx)(c.A,{variant:"h6",color:"success.main",children:u.activePackages}),(0,se.jsx)(c.A,{variant:"body2",color:"textSecondary",children:"Active Packages"})]})})]})})]})})]})]})},Pe=e=>{let{userRole:t={canManagePackages:!0}}=e;const a=(0,n.A)(),T=(0,i.A)(a.breakpoints.down("md")),[N,R]=(0,r.useState)(0),[L,B]=(0,r.useState)(Q),[F,E]=(0,r.useState)($),[G,q]=(0,r.useState)(!1),[U,O]=(0,r.useState)(null),[K,H]=(0,r.useState)(""),[J,X]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(""),[te,ae]=(0,r.useState)(""),[ne,ie]=(0,r.useState)("name"),[le,ce]=(0,r.useState)({open:!1,message:"",severity:"success"}),[de,ue]=(0,r.useState)({open:!1,id:null,type:null}),xe=(0,r.useMemo)(()=>{let e=L;return K&&(e=((e,t)=>{if(!t)return e;const a=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.type.toLowerCase().includes(a))})(e,K)),J&&(e=((e,t)=>t&&"all"!==t?e.filter(e=>e.type===t):e)(e,J)),Z&&(e=((e,t)=>t&&"all"!==t?e.filter(e=>e.status===t):e)(e,Z)),function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";return[...e].sort((e,s)=>{let r=e[t],n=s[t];return t.includes("Date")&&(r=new Date(r),n=new Date(n)),"price"===t&&(r=parseFloat(r)||0,n=parseFloat(n)||0),"string"===typeof r&&(r=r.toLowerCase(),n=n.toLowerCase()),"asc"===a?r>n?1:-1:r<n?1:-1})}(e,ne)},[L,K,J,Z,ne]),pe=(0,r.useMemo)(()=>{let e=F;return K&&(e=((e,t)=>{if(!t)return e;const a=t.toLowerCase();return e.filter(e=>e.memberName.toLowerCase().includes(a)||e.packageName.toLowerCase().includes(a)||e.memberId.toLowerCase().includes(a))})(e,K)),te&&(e=((e,t)=>t&&"all"!==t?e.filter(e=>e.status===t):e)(e,te)),e},[F,K,te]),me=()=>{O(null),q(!0)},he=e=>{O(e),q(!0)},ye=e=>{ue({open:!0,id:e,type:"package"})},je=e=>{ue({open:!0,id:e,type:"subscription"})},ge=(e,t)=>{E(a=>a.map(a=>a.id===e?(0,s.A)((0,s.A)({},a),t):a)),be("Subscription status updated successfully!")},be=function(e){ce({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})};return(0,se.jsxs)(l.A,{sx:{p:3},children:[(0,se.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,se.jsx)(c.A,{variant:"h4",fontWeight:"bold",children:"Membership & Package Management"}),!T&&t.canManagePackages&&0===N&&(0,se.jsx)(o.A,{variant:"contained",startIcon:(0,se.jsx)(z.A,{}),onClick:me,size:"large",children:"Create Package"})]}),(0,se.jsx)(d.A,{sx:{mb:3},children:(0,se.jsx)(u.A,{value:N,onChange:(e,t)=>R(t),variant:T?"scrollable":"fullWidth",scrollButtons:"auto",children:["Packages","Subscriptions","Statistics"].map((e,t)=>(0,se.jsx)(x.A,{label:e},t))})}),2!==N&&(0,se.jsx)(d.A,{sx:{mb:3},children:(0,se.jsxs)(p.A,{children:[(0,se.jsxs)(m.A,{container:!0,spacing:2,alignItems:"center",children:[(0,se.jsx)(m.A,{size:{xs:12,md:4},children:(0,se.jsx)(h.A,{fullWidth:!0,label:"Search",value:K,onChange:e=>H(e.target.value),InputProps:{startAdornment:(0,se.jsx)(A.A,{position:"start",children:(0,se.jsx)(I.A,{})})},placeholder:0===N?"Search packages...":"Search subscriptions..."})}),0===N&&(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:2},children:(0,se.jsxs)(y.A,{fullWidth:!0,children:[(0,se.jsx)(j.A,{children:"Type"}),(0,se.jsxs)(g.A,{value:J,onChange:e=>X(e.target.value),label:"Type",children:[(0,se.jsx)(b.A,{value:"",children:"All Types"}),Object.entries(V).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})]})]})}),(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:2},children:(0,se.jsxs)(y.A,{fullWidth:!0,children:[(0,se.jsx)(j.A,{children:"Status"}),(0,se.jsxs)(g.A,{value:Z,onChange:e=>ee(e.target.value),label:"Status",children:[(0,se.jsx)(b.A,{value:"",children:"All Status"}),Object.entries(Y).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})]})]})}),(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:2},children:(0,se.jsxs)(y.A,{fullWidth:!0,children:[(0,se.jsx)(j.A,{children:"Sort By"}),(0,se.jsxs)(g.A,{value:ne,onChange:e=>ie(e.target.value),label:"Sort By",children:[(0,se.jsx)(b.A,{value:"name",children:"Name"}),(0,se.jsx)(b.A,{value:"price",children:"Price"}),(0,se.jsx)(b.A,{value:"createdDate",children:"Date Created"}),(0,se.jsx)(b.A,{value:"popularity",children:"Popularity"})]})]})})]}),1===N&&(0,se.jsx)(m.A,{size:{xs:12,sm:6,md:3},children:(0,se.jsxs)(y.A,{fullWidth:!0,children:[(0,se.jsx)(j.A,{children:"Status"}),(0,se.jsxs)(g.A,{value:te,onChange:e=>ae(e.target.value),label:"Status",children:[(0,se.jsx)(b.A,{value:"",children:"All Status"}),Object.entries(_).map(e=>{let[t,a]=e;return(0,se.jsx)(b.A,{value:t,children:a},t)})]})]})}),(0,se.jsx)(m.A,{size:{xs:12,md:2},children:(0,se.jsx)(o.A,{fullWidth:!0,variant:"outlined",startIcon:(0,se.jsx)(W.A,{}),onClick:()=>{H(""),X(""),ee(""),ae(""),ie("name")},children:"Clear Filters"})})]}),(J||Z||te||K)&&(0,se.jsxs)(l.A,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1},children:[K&&(0,se.jsx)(v.A,{label:"Search: ".concat(K),onDelete:()=>H(""),size:"small"}),J&&(0,se.jsx)(v.A,{label:"Type: ".concat(V[J]),onDelete:()=>X(""),size:"small"}),Z&&(0,se.jsx)(v.A,{label:"Status: ".concat(Y[Z]),onDelete:()=>ee(""),size:"small"}),te&&(0,se.jsx)(v.A,{label:"Status: ".concat(_[te]),onDelete:()=>ae(""),size:"small"})]})]})}),0===N&&(0,se.jsx)(se.Fragment,{children:(0,se.jsx)(m.A,{container:!0,spacing:3,children:xe.length>0?xe.map(e=>{return(0,se.jsx)(m.A,{size:{xs:12,sm:6,lg:4},children:(0,se.jsx)(re,{package:e,onEdit:t.canManagePackages?he:void 0,onDelete:t.canManagePackages?ye:void 0,canManage:t.canManagePackages,subscriptionCount:(a=e.id,F.filter(e=>e.packageId===a).length)})},e.id);var a}):(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(d.A,{children:(0,se.jsxs)(p.A,{sx:{textAlign:"center",py:6},children:[(0,se.jsx)(c.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No packages found"}),(0,se.jsx)(c.A,{variant:"body2",color:"text.secondary",children:K||J||Z?"Try adjusting your search or filters":"Create your first membership package to get started"}),t.canManagePackages&&!K&&!J&&!Z&&(0,se.jsx)(o.A,{variant:"contained",startIcon:(0,se.jsx)(z.A,{}),onClick:me,sx:{mt:2},children:"Create Package"})]})})})})}),1===N&&(0,se.jsx)(se.Fragment,{children:(0,se.jsx)(m.A,{container:!0,spacing:3,children:pe.length>0?pe.map(e=>{return(0,se.jsx)(m.A,{size:{xs:12,sm:6,lg:4},children:(0,se.jsx)(Ae,{subscription:e,memberName:(a=e.memberId,"Member ".concat(a)),onDelete:t.canManagePackages?je:void 0,onUpdateStatus:t.canManagePackages?ge:void 0,canManage:t.canManagePackages})},e.id);var a}):(0,se.jsx)(m.A,{size:{xs:12},children:(0,se.jsx)(d.A,{children:(0,se.jsxs)(p.A,{sx:{textAlign:"center",py:6},children:[(0,se.jsx)(c.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No subscriptions found"}),(0,se.jsx)(c.A,{variant:"body2",color:"text.secondary",children:K||te?"Try adjusting your search or filters":"No member subscriptions available"})]})})})})}),2===N&&(0,se.jsx)(fe,{packages:L,subscriptions:F,onRefresh:()=>{be("Statistics refreshed!")}}),T&&t.canManagePackages&&0===N&&(0,se.jsx)(f.A,{color:"primary",sx:{position:"fixed",bottom:16,right:16},onClick:me,children:(0,se.jsx)(z.A,{})}),(0,se.jsx)(oe,{open:G,onClose:()=>{q(!1),O(null)},package:U,onSubmit:e=>{U?(B(t=>t.map(t=>t.id===e.id?e:t)),be("Package updated successfully!")):(B(t=>[...t,e]),be("Package created successfully!")),q(!1),O(null)},mode:U?"edit":"create"}),(0,se.jsxs)(P.A,{open:de.open,onClose:()=>ue({open:!1,id:null,type:null}),children:[(0,se.jsx)(S.A,{children:"Confirm Deletion"}),(0,se.jsx)(k.A,{children:(0,se.jsxs)(D.A,{children:["Are you sure you want to delete this ",de.type,"? This action cannot be undone."]})}),(0,se.jsxs)(C.A,{children:[(0,se.jsx)(o.A,{onClick:()=>ue({open:!1,id:null,type:null}),children:"Cancel"}),(0,se.jsx)(o.A,{onClick:()=>{"package"===de.type?(B(e=>e.filter(e=>e.id!==de.id)),be("Package deleted successfully!")):"subscription"===de.type&&(E(e=>e.filter(e=>e.id!==de.id)),be("Subscription deleted successfully!")),ue({open:!1,id:null,type:null})},color:"error",variant:"contained",children:"Delete"})]})]}),(0,se.jsx)(M.A,{open:le.open,autoHideDuration:4e3,onClose:()=>ce((0,s.A)((0,s.A)({},le),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,se.jsx)(w.A,{onClose:()=>ce((0,s.A)((0,s.A)({},le),{},{open:!1})),severity:le.severity,variant:"filled",children:le.message})})]})}}}]);
//# sourceMappingURL=975.0b430c5b.chunk.js.map